var giveawayPrize_trTR = 'Lorem Ipsum';
var giveawayPrize_enUS = giveawayPrize_trTR;
var languages = {
    // TURKISH
    tr_TR: {
        languageName: "Türkçe",
        languageCode: "tr_TR",
        siteTitle: "Asena | Çekiliş Botu",
        inviteButton: "Davet Et",
        readWikiButton: "Wiki'yi Oku",
        servers: "Sunucu",
        user: "Kullanıcı",
        command: "Komut",
        header: {
            support: "Destek",
            vote: "Oy Ver",
        },
        partitions: {
            hero: {
                spacedText: "YENİ & GELİŞMİŞ",
                slogan: "Tamamen Türkçe, stabil, hızlı, kolay ve yeni nesil teknolojilerle kuşatılmış<br>Discord çekiliş &amp; anket botu!",
                giveawayStarted: '<img src="https://cdn.discordapp.com/emojis/716956121289588736.gif?v=1" alt="uwu">&nbsp;<b class="bold">ÇEKİLİŞ BAŞLADI</b>&nbsp;<img src="https://cdn.discordapp.com/emojis/716956121289588736.gif?v=1" alt="uwu">',
                giveawayPrize: giveawayPrize_trTR,
                giveawayEmbedDescription1: 'Çekilişe katılmak için <img src="https://discord.com/assets/b052a4bef57c1aa73cd7cff5bc4fb61d.svg" alt="tada"> emojisine tıklayın!<br> Süre: <b>1 dakika</b><br> Bitmesine: ',
                giveawayEmbedDescription2: ' <b>saniye</b><br> Oluşturan: <span class="tag">@Anıl</span>',
                giveawayEnd: '<img src="https://cdn.discordapp.com/emojis/716956121289588736.gif?v=1" alt="uwu"> Tebrikler <span class="tag">@Anonymous</span>! <b>' + giveawayPrize_trTR + '</b> kazandınız.',
            },
            stats: {
                spacedText: "ASENA İLE BULUŞ",
                header: "Lorem Ipsum",
                description: "Lorem ipsum dolor sit amet.",
            },
            features: {
                header: "Neden Asena?",
                description: "Neden Asena'yı kullanmanız gerektiğini öğrenin.",
                feature: {
                    security: {
                        header: "Güvenlik",
                        description: "Asena yüksek güvenlikli Google Cloud, Avrupa sunucularında barınır. Bu makinelere doğrudan erişim yoktur ve çok sıkı güvenlik protokolleri mevcuttur. Yani çekilişleriniz Asena ile 7/24 güvende.",
                    },
                    fast: {
                        header: "Hızlı, Kolay, Optimize",
                        description: "Her yaşta insanın anlıyabileceği şekilde, kolay kullanıma sahip, oldukça hızlı ve optimize, her türlü isteğinize yanıt verebilecek özelliklere sahip bir bot ile kitlenizi sizde mutlu edebilirsiniz.",
                    },
                    quality: {
                        header: "Kalite",
                        description: "\"Kalite fark yaratır\" sözü ile başladığımız bu yolda her zaman daha iyiyi hedeflediğimizi ve hizmet kalitemizden aslağa ödün vermiyeceğimizden emin olabilirsiniz.",
                    },
                    strongSupport: {
                        header: "Güçlü Destek",
                        description: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed ultricies, tellus vel auctor finibus, ligula orci fermentum urna, nec hendrerit ante urna ac purus. Donec ac fringilla dui, non interdum justo",
                    },
                },
            },
            helpBlocks: {
                header: "Başka Bir Şeye mi Baktınız?",
                description: "Asena hakkında size yardım etmeye her zaman hazırız.",
                helpBlocks: {
                    wiki: {
                        header: "Asena Wiki'yi Oku",
                        description: "Komutların nasıl kullanıldığını merak ediyorsan burada detaylı olarak anlattık.",
                    },
                    supportServer: {
                        header: "Destek Sunucusu",
                        description: "Yanıtını merak ettiğin her soruya cevap bulabilirsin.",
                    },
                    openSource: {
                        header: "Açık Kaynak",
                        description: "Asena'nın zararlı bir özelliği olup olmadığını merak ediyorsan GitHub'da cevabını bulabilirsin.",
                    },
                },
            },
        },
        footer: {
            footerBrand: {
                paragraph1: "Rythm makes it possible to listen to your favorite music with all your friends. Add it to Discord today and start listening!",
                paragraph2: "For business inquiries, please reach out at <a href=\"mailto:admin@asena.xyz\">admin@asena.xyz</a>",
            },
            lists: {
                getHelp: {
                    title: "Yardım al",
                    list: {
                        supportServer: "Destek Sunucusu",
                        openSource: "Açık Kaynak",
                    }
                },
                findUs: {
                    title: "Bizi çevrimiçi bul",
                    list: {
                        listItem1: "Top.gg",
                        listItem2: "Bots.gg",
                        listItem3: "BoD.xyz",
                    },
                }
            },
            description: {
                title: "Asena Premium",
                description: "Turn your server into a party with Rythm Premium. Pick a plan, customize it, and you're done.",
                button: "Lorem Ipsum",
            },
            footerBottom: {
                copyright: "Copyright © 2021 Asena Team <span style='color: var(--theme-color);'>❤</span> Tüm Hakları Saklıdır",
                links: {
                    link1: "Kullanıcı Sözleşmesi",
                    link2: "Gizlilik Politikası",
                },
            },
        },
    },
    // END TURKISH

    /**
     * @seperator
     */

    // ENGLISH
    en_US: {
        languageName: "English",
        languageCode: "en_US",
        siteTitle: "Asena | Giveaway Bot",
        inviteButton: "Invite",
        readWikiButton: "Read the Wiki",
        servers: "Servers",
        user: "User",
        command: "Command",
        header: {
            support: "Support",
            vote: "Vote",
        },
        partitions: {
            hero: {
                spacedText: "NEW & IMPROVED",
                slogan: "Discord raffle &amp; survey bot completely<br>in Turkish, stable, fast, easy and surrounded by new generation technologies!",
                giveawayStarted: '<img src="https://cdn.discordapp.com/emojis/716956121289588736.gif?v=1" alt="uwu">&nbsp;<b>GIVEAWAY STARTED</b>&nbsp;<img src="https://cdn.discordapp.com/emojis/716956121289588736.gif?v=1" alt="uwu">',
                giveawayPrize: giveawayPrize_enUS,
                giveawayEmbedDescription1: 'Click on the <img src="https://discord.com/assets/b052a4bef57c1aa73cd7cff5bc4fb61d.svg" alt="tada"> emoji to enter the giveaway!<br> Time: <b>1 minutes</b><br> Time remaining: ',
                giveawayEmbedDescription2: ' <b>seconds</b><br> Hosted by: <span class="tag">@Anıl</span>',
                giveawayEnd: '<img src="https://cdn.discordapp.com/emojis/716956121289588736.gif?v=1" alt="uwu"> Congratulations <span class="tag">@Anonymous</span>! You won <b>' + giveawayPrize_trTR + '</b>.',
            },
            stats: {
                spacedText: "MEET ASENA",
                header: "Lorem Ipsum",
                description: "Lorem ipsum dolor sit amet.",
            },
            features: {
                header: "Why Asena?",
                description: "Learn out why you should use Asena.",
                feature: {
                    security: {
                        header: "Security",
                        description: "Asena highly secure Google Cloud is hosted on European servers. There is no direct access to these machines and very strict security protocols are in place. So your raffles are safe 24/7 with Asena.",
                    },
                    fast: {
                        header: "Fast, Easy, Optimized",
                        description: "You can make your audience happy with a bot that can be understood by people of all ages, easy to use, very fast and optimized, and has features that can respond to all your requests.",
                    },
                    quality: {
                        header: "Quality",
                        description: "You can be sure that we always aim for the better and never compromise our service quality in this way we started with the promise \"Quality makes a difference\".",
                    },
                    strongSupport: {
                        header: "Strong Support",
                        description: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed ultricies, tellus vel auctor finibus, ligula orci fermentum urna, nec hendrerit ante urna ac purus. Donec ac fringilla dui, non interdum justo",
                    },
                },
            },
            helpBlocks: {
                header: "Did You Look For Something Else?",
                description: "We are always ready to help you about Asena.",
                helpBlocks: {
                    wiki: {
                        header: "Read Asena Wiki",
                        description: "If you are wondering how to use commands, we have explained in detail here.",
                    },
                    supportServer: {
                        header: "Support Server",
                        description: "You can find an answer to any question you wonder about.",
                    },
                    openSource: {
                        header: "Open Source",
                        description: "If you are wondering whether Asena has a harmful feature, you can find the answer on GitHub.",
                    },
                },
            },
        },
        footer: {
            footerBrand: {
                paragraph1: "Rythm makes it possible to listen to your favorite music with all your friends. Add it to Discord today and start listening!",
                paragraph2: "For business inquiries, please reach out at <a href=\"mailto:admin@asena.xyz\">admin@asena.xyz</a>",
            },
            lists: {
                getHelp: {
                    title: "Get help",
                    list: {
                        supportServer: "Support Server",
                        openSource: "Open Source",
                    }
                },
                findUs: {
                    title: "Find us online",
                    list: {
                        listItem1: "Top.gg",
                        listItem2: "Bots.gg",
                        listItem3: "BoD.xyz",
                    },
                }
            },
            description: {
                title: "Asena Premium",
                description: "Turn your server into a party with Rythm Premium. Pick a plan, customize it, and you're done.",
                button: "Lorem Ipsum",
            },
            footerBottom: {
                copyright: "Copyright © 2021 Asena Team <span style='color: var(--theme-color);'>❤</span> All Rights Reserved",
                links: {
                    link1: "User Agreement",
                    link2: "Privacy Policy",
                },
            },
        },
    },
    // END ENGLISH
};

/**
 *
 *
 *
 *
 *
 *
 * @TranslateCodes
 *
 *
 *
 *
 *
 *
 */

// Variables
var allElems = document.querySelectorAll('*');
var languageStrings = new Language(languages);
var dropdownLanguages = document.querySelectorAll('.lang_select .dropdown_languages ul')[0];
var selectedLanguage = document.querySelectorAll('.lang_select .selected_language .language_name')[0];
var sliderImages = document.querySelectorAll('.swiper-container .swiper-wrapper img.slide_image');
var sliderTexts = document.querySelectorAll('.swiper-container .swiper-wrapper .slide-text *');

// Check the localStorage language.
var language, userLanguage = navigator.language || navigator.userLanguage;
userLanguage = userLanguage.replace(/\-/gi, '_');

if (localStorage.getItem('language')) {
    language = localStorage.getItem('language');
    if (!languages[language]) {
        localStorage.setItem('language', 'tr_TR');
    }
    translate();
} else {
    localStorage.setItem('language', languages[userLanguage] ? userLanguage : 'tr_TR');
    language = localStorage.getItem('language');
    translate();
}

function Language(info) {
    this.strings = {};

    this.decode = function (object, path = []) {
        for (const [k, v] of Object.entries(object)) {
            if (!v || typeof v !== 'object' || Array.isArray(v)) {
                this.strings[path.concat(k).join('.')] = v;
            } else {
                this.decode(v, path.concat(k));
            }
        }
    }

    this.decode(info);
}

// Map all elements for translating.
function translate() {
    language = localStorage.getItem('language');
    allElems.forEach(function (elem) {
        if (elem.dataset.translate) {
            elem.innerHTML = languageStrings.strings[language + '.' + elem.dataset.translate];
        }
    });
    refreshSlider();
    refreshDropdown();
}

// Insert languages to dropdown box.
function refreshDropdown() {
    dropdownLanguages.innerHTML = '';
    var languageValues = Object.values(languages);
    languageValues.forEach(function (langValue) {
        if (language == langValue.languageCode) {
            selectedLanguage.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg>' + langValue.languageName;
        }
        dropdownLanguages.innerHTML += `
    <li class="${language == langValue.languageCode ? 'selected' : ''}"
        onclick="javascript:${language == langValue.languageCode ? 'return false;' : 'changeLanguage(\'' + langValue.languageCode + '\');'};">
        ${langValue.languageName}
    </li>
    `;
    });
}

function changeLanguage(lang) {
    localStorage.setItem('language', lang);
    translate();
}

function refreshSlider() {
    sliderImages.forEach(function (sliderImage) {
        sliderImage.src = `./img/slider/${language}/${sliderImage.dataset.source}`
    });

    sliderTexts.forEach(function (sliderText, index) {
        if (sliderText.dataset.translate) {
            sliderText.innerHTML = languageStrings.strings[language + '.' + sliderText.dataset.translate];
        }

        if (sliderText.dataset.slidetext) {
            sliderText.innerText = slides[sliderText.dataset.index][sliderText.dataset.type][language];
        }
    });
}